marriage.data$p.relig.full <- marriage.data$p.evang.full + marriage.data$p.mormon.full
marriage.data$p.kerry.full <- Statelevel$kerry.04[marriage.data$state.initnum]
Census$crace.female <- (Census$cfemale *3) + Census$crace.WBH
View(Census)
Census$cage.edu.cat <- 4 * (Census$cage.cat -1) + Census$cedu.cat
Census$cp.evang.full<-  Statelevel$p.evang[Census$cstate.initnum]
Census$cp.mormon.full <- Statelevel$p.mormon[Census$cstate.initnum]
Census$cp.relig.full <- Census$cp.evang.full + Census$cp.mormon.full
Census$cp.kerry.full <-  Statelevel$kerry.04[Census$cstate.initnum]
table(marriage.data$yes.of.all)
individual.model <- glmer(formula = yes.of.all ~ (1|race.female) + (1|age.cat)
+ (1|edu.cat) + (1|age.edu.cat) + (1|state) + (1|region) + (1|poll) + p.relig.full
+ p.kerry.full,data=marriage.data, family=binomial(link="logit"))
display(individual.model)
ranef(individual.model)$race.female
se.ranef(individual.model)$race.female
state.ranefs <- array(NA,c(51,1))
dimnames(state.ranefs) <- list(c(Statelevel$sstate),"effect")
for(i in Statelevel$sstate){
state.ranefs[i,1] <- ranef(individual.model)$state[i,1]
}
state.ranefs[,1][is.na(state.ranefs[,1])] <- 0 #set states with missing REs (b/c not in data) to zero
help(pmin)
library(dplyr)
library(ggplot2)
dt <- read.csv("/Users/jmoore523/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1/jm9_27tweets.csv", header = FALSE)
View(dt)
table(dt$V2)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(dplyr)
library(ggplot2)
# Load & rename data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=tweet_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point()
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & rename data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=tweet_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point()
install.packages("scales")
install.packages("scales")
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & rename data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=tweet_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point()
tweet_summary$tweet_time <- date_format(format = "%H:%MM", tz = "UTC")
library(scales)
tweet_summary$tweet_time <- date_format(format = "%H:%MM", tz = "UTC")
tweet_summary$tweet_time <- date_format(format = "%H:%MM")
tweet_summary$tweet_time <- date_format(format = "%H:%M")
?date_format
tweet_summary$tweet_time <- date_format(tweet_summary$tweet_time, format = "%H:%M")
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & rename data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=tweet_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_format("%H:%M"))
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & rename data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=tweet_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_breaks(width = "1 hour"))
type(tweet_summary$tweet_date)
class(tweet_summary$tweet_date)
View(tweet_summary)
as.Date(tweet_summary$tweet_date, format = "%Y-%m-%d")
View(tweet_summary)
tweet_summary$tweet_time <- as.Date(tweet_summary$tweet_time, format = "%H:%M:%S")
View(tweet_summary)
tweet_summary$date_time <- tweet_summary$tweet_date + " " + tweet_summary$tweet_time
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$date_time <- tweet_summary$tweet_date + " " + tweet_summary$tweet_time
?concatenate
?concat
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
View(tweet_summary)
tweet_summary$date_time <- as.Date(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
View(tweet_summary)
ggplot(data=tweet_summary, aes(x=tweet_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_breaks(width = "1 hour"))
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- as.Date(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_breaks(width = "1 hour"))
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- as.Date(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_breaks(width = "hour"))
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- as.POSIXct(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_breaks(width = "hour"))
tweet_summary$tweet_time <- strptime(tweet_summary$tweet_time, format = "%H:%M:%S")
View(tweet_summary)
View(tweet_summary)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$tweet_date <- as.Date(tweet_summary$tweet_date, format = "%Y-%m-%d")
tweet_summary$tweet_time <- strptime(tweet_summary$tweet_time, format = "%H:%M:%S")
View(tweet_summary)
View(tweet_summary)
tweet_summary$date_time <- strptime(tweet_summary$tweet_time, format = "%Y-%m-%d %H:%M:%S")
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=tweet_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_breaks(width = "1 hour"))
View(tweet_summary)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_x_date(labels = date_breaks(width = "1 hour"))
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point()
)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "")
?factor
unique(tweet_summary$user_timezone)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
unique(tweet_summary$user_timezone)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "")
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=c("EST","CST","MST","PST"), colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "")
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "") +
scale_fill_discrete(name="Timezone",
breaks=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"),
labels=c("EST", "CST", "MST", "PST"))
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "") +
scale_colour_discrete(name="Timezone",
breaks=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"),
labels=c("EST", "CST", "MST", "PST"))
ggsave(plot=tweet_plot, file='Unfiltered_Tweets.pdf', width=5, height=5)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
tweet_plot <- ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "") +
scale_colour_discrete(name="Timezone",
breaks=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"),
labels=c("EST", "CST", "MST", "PST"))
ggsave(plot=tweet_plot, file='Unfiltered_Tweets.pdf', width=5, height=5)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
#
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
# Plot tweets over time
tweet_plot <- ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "") +
scale_colour_discrete(name="Timezone",
breaks=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"),
labels=c("EST", "CST", "MST", "PST"))
ggsave(plot=tweet_plot, file='Unfiltered_Tweets.pdf', width=6, height=4)
?filter
edge_times <- c(min(tweet_summary$date_time),max(tweet_summary$date_time))
tweet_summary <- filter(tweet_summary, date_time != edge_times[1] & date_time != edge_times[2])
tweet_summary <- filter(tweet_summary, date_time != edge_times[1] && date_time != edge_times[2])
tweet_summary <- tweet_summary[date_time != edge_times[1] && date_time != edge_times[2])]
tweet_summary <- tweet_summary[date_time != edge_times[1] & date_time != edge_times[2])]
tweet_summary <- tweet_summary[date_time != edge_times[1] & date_time != edge_times[2]]
tweet_summary <- tweet_summary[tweet_summary$date_time != edge_times[1] & tweet_summary$date_time != edge_times[2]]
tweet_summary$date_time != edge_times[2]
tweet_summary$date_time != edge_times[1]
tweet_summary$date_time != edge_times[1] & tweet_summary$date_time != edge_times[2]
tweet_summary <- tweet_summary[tweet_summary$date_time != edge_times[1] & tweet_summary$date_time != edge_times[2],]
View(tweet_summary)
setwd("~/Dropbox/Graduate School/Q4 - Autumn 2016/MSE231/Assignment1/MSE231-Assignment1")
library(scales)
library(dplyr)
library(ggplot2)
theme_set(theme_bw())
# Load & format data
tweet_data <- read.csv("jm9_27tweets.csv", header=FALSE)
names(tweet_data) <- c("tweet_date","tweet_time","user_timezone")
# Count tweets by 15-minute interval
tweet_data_group_by <- group_by(tweet_data, tweet_date, tweet_time, user_timezone)
tweet_summary <- summarise(tweet_data_group_by, count = n())
tweet_summary$user_timezone <- factor(tweet_summary$user_timezone, levels=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"), ordered=TRUE)
# Format dates
tweet_summary$date_time <- paste(tweet_summary$tweet_date, tweet_summary$tweet_time, sep = " ")
tweet_summary$date_time <- strptime(tweet_summary$date_time, format = "%Y-%m-%d %H:%M:%S")
## Remove edges
edge_times <- c(min(tweet_summary$date_time),max(tweet_summary$date_time))
tweet_summary <- tweet_summary[tweet_summary$date_time != edge_times[1] & tweet_summary$date_time != edge_times[2],]
# Plot tweets over time
tweet_plot <- ggplot(data=tweet_summary, aes(x=date_time, y=count, group=user_timezone, colour=user_timezone)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma) +
labs(title = "Number of Tweets (Per Quarter-Hour)", x = "", y = "") +
scale_colour_discrete(name="Timezone",
breaks=c("Eastern Time (US & Canada)", "Central Time (US & Canada)", "Mountain Time (US & Canada)", "Pacific Time (US & Canada)"),
labels=c("EST", "CST", "MST", "PST"))
ggsave(plot=tweet_plot, file='Unfiltered_Tweets.pdf', width=6, height=4)
